<!DOCTYPE html>
<html>

<head>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js">
    </script>
    <link rel="stylesheet" href="/static/css/materialize.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="/static/css/animate.css">
    <link rel="stylesheet" href="/static/css/stylesheet.css">
    <script>
        var someJavaScriptVar = '{{youtubeId}}';
    </script>
</head>

<body class="yellow darken-1">
    <h1 class="white-text title animated rubberBand">Watch this..</h1>

    <!-- 1. The <iframe> (and video player) will replace this <div> tag. -->

    <div class="row scrollable">
        <div class="col s3 center fixed">
            <!--            <h2 class="icontext black-text">happy</h2>-->
            <i class="fa fa-smile-o fa-4x icon green white-text z-depth-3 hoverable" id="happyemoji"></i>
        </div>
        <div class="col s6 center">
            <div id="player"></div>
        </div>
        <div class="col s3 center fixed">
            <!--            <h2 class="icontext black-text">sad</h2>-->
            <i class="fa fa-frown-o fa-4x icon red white-text z-depth-3 hoverable" id="sademoji"></i>
        </div>
    </div>
    <!-- insert any element, and it will be centered-->

    <script>
        // 2. This code loads the IFrame Player API code asynchronously.

        var tag = document.createElement('script');

        tag.src = "https://www.youtube.com/iframe_api";
        var firstScriptTag = document.getElementsByTagName('script')[0];
        firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

        // 3. This function creates an <iframe> (and YouTube player)
        //    after the API code downloads.
        var player;

        function onYouTubeIframeAPIReady() {
            player = new YT.Player('player', {
                height: '390',
                width: '640',
                videoId: someJavaScriptVar,
                events: {
                    'onReady': onPlayerReady,
                    'onStateChange': onPlayerStateChange
                }
            });
        }

        // 4. The API will call this function when the video player is ready.
        function onPlayerReady(event) {
            event.target.playVideo();
        }

        // 5. The API calls this function when the player's state changes.
        //    The function indicates that when playing a video (state=1),
        //    the player should play for six seconds and then stop.
        var done = false;

        function onPlayerStateChange(event) {
            if (event.data == YT.PlayerState.PLAYING && !done) {
                setTimeout(stopVideo, 6000);
                done = true;
                setTimeout(function() {
                    document.getElementById('sademoji').innerHTML = '<form action="/create" method="GET"> <input type="image" value="Sad" name="pets" /></form>';
                    //document.getElementById('happyemoji').style.display = 'block';
                    //document.getElementById('sademoji').style.display = 'block';
                }, 6000);
                
                setTimeout(function() {
                    document.getElementById('happyemoji').innerHTML = '<form action="/create" method="GET"> <input type="image" value="Yay" name="pets" /></form>';
                    //document.getElementById('happyemoji').style.display = 'block';
                    //document.getElementById('sademoji').style.display = 'block';
                }, 6000);
                
            }
        }

        function stopVideo() {
            player.stopVideo();
        }

        document.getElementById("err").innerHTML = "The tag is the following"
    </script>
    
    <!--Heading for gif-->
    
    <br>
    <br>
    <h1 class="white-text title animated fadeInUp">and this..</h1>
    
    <!-- gif--> 
    <div class="row">
        <div class="col s4 offset-s4 center">
            <img src="{{gifurl}}">
        </div>
    </div>

    <br>
    <br>
    <h1 class="white-text title animated fadeInUp">Not happy yet? Read this..</h1>
    <!-- quote-->
    <br>
    <div class="card-panel hoverable green center quote">
        <span class="white-text center quote" id="italictext">"{{quote}}- {{quoteauthor}}"</span>
    </div>
    

    <!-- Please keep following scripts!! -->
    <script src="/static/js/jquery-1.11.3.js"></script>

</body>

</html>